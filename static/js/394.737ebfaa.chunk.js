"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[394],{1703:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(5043);function n(e){const s=function(e){const s=(0,t.useRef)(e);return s.current=e,s}(e);(0,t.useEffect)(()=>()=>s.current(),[])}const r=2**31-1;function l(e,s,a){const t=a-Date.now();e.current=t<=r?setTimeout(s,t):setTimeout(()=>l(e,s,a),r)}function i(){const e=function(){const e=(0,t.useRef)(!0),s=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),s.current}(),s=(0,t.useRef)();return n(()=>clearTimeout(s.current)),(0,t.useMemo)(()=>{const a=()=>clearTimeout(s.current);return{set:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(a(),n<=r?s.current=setTimeout(t,n):l(s,t,Date.now()+n))},clear:a,handleRef:s}},[])}},1719:(e,s,a)=>{a.d(s,{A:()=>C});var t=a(2555),n=a(45),r=a(8139),l=a.n(r),i=a(5043),c=a(1969),o=a(1456),d=a(7852),m=a(4488),x=a(579);const u=["className","bsPrefix","as"],h=(0,m.A)("h4");h.displayName="DivStyledAsH4";const f=i.forwardRef((e,s)=>{let{className:a,bsPrefix:r,as:i=h}=e,c=(0,n.A)(e,u);return r=(0,d.oU)(r,"alert-heading"),(0,x.jsx)(i,(0,t.A)({ref:s,className:l()(a,r)},c))});f.displayName="AlertHeading";const j=f;var v=a(7071);const b=["className","bsPrefix","as"],N=i.forwardRef((e,s)=>{let{className:a,bsPrefix:r,as:i=v.A}=e,c=(0,n.A)(e,b);return r=(0,d.oU)(r,"alert-link"),(0,x.jsx)(i,(0,t.A)({ref:s,className:l()(a,r)},c))});N.displayName="AlertLink";const A=N;var g=a(8072),p=a(5632);const w=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],y=i.forwardRef((e,s)=>{const a=(0,c.Zw)(e,{show:"onClose"}),{bsPrefix:r,show:i=!0,closeLabel:m="Close alert",closeVariant:u,className:h,children:f,variant:j="primary",onClose:v,dismissible:b,transition:N=g.A}=a,A=(0,n.A)(a,w),y=(0,d.oU)(r,"alert"),C=(0,o.A)(e=>{v&&v(!1,e)}),E=!0===N?g.A:N,P=(0,x.jsxs)("div",(0,t.A)((0,t.A)({role:"alert"},E?void 0:A),{},{ref:s,className:l()(h,y,j&&"".concat(y,"-").concat(j),b&&"".concat(y,"-dismissible")),children:[b&&(0,x.jsx)(p.A,{onClick:C,"aria-label":m,variant:u}),f]}));return E?(0,x.jsx)(E,(0,t.A)((0,t.A)({unmountOnExit:!0},A),{},{ref:void 0,in:i,children:P})):i?P:null});y.displayName="Alert";const C=Object.assign(y,{Link:A,Heading:j})},5394:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(2555),n=a(5043),r=a(3519),l=a(1072),i=a(8602),c=a(1719),o=a(7417),d=a(5475),m=a(6925),x=a(6305),u=a(579);const h=()=>{const[e,s]=(0,n.useState)([]),[a,h]=(0,n.useState)(!0),[f,j]=(0,n.useState)("");(0,n.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await x.A.get("/pets/type/cat");s(e.data.data)}catch(f){j("Error fetching cats. Please try again."),console.error("Error fetching cats:",f)}finally{h(!1)}},b=(e,a)=>{s(s=>s.map(s=>{if(s._id===e){const e=(0,t.A)({},s);var n,r;if("up"===a)e.votes=(0,t.A)((0,t.A)({},e.votes),{},{up:((null===(n=e.votes)||void 0===n?void 0:n.up)||0)+1});else e.votes=(0,t.A)((0,t.A)({},e.votes),{},{down:((null===(r=e.votes)||void 0===r?void 0:r.down)||0)+1});return e}return s}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"furbabies-banner",children:(0,u.jsx)(r.A,{children:(0,u.jsx)(l.A,{className:"justify-content-center align-items-center",children:(0,u.jsxs)(i.A,{xs:12,md:10,children:[(0,u.jsxs)("h1",{className:"hero-title",children:[(0,u.jsx)("i",{className:"fas fa-cat me-2"}),"Cats Available for Adoption"]}),(0,u.jsxs)("p",{className:"hero-subtitle",children:[(0,u.jsx)("i",{className:"fas fa-heart me-2"}),"Find Your Perfect Feline Friend"]}),(0,u.jsxs)(d.N_,{to:"/browse",className:"btn btn-lg btn-light px-4 py-2",children:[(0,u.jsx)("i",{className:"fas fa-search me-2"}),"Browse All Pets"]})]})})})}),(0,u.jsxs)(r.A,{className:"py-5",children:[(0,u.jsx)(l.A,{className:"mb-4",children:(0,u.jsxs)(i.A,{children:[(0,u.jsxs)("h2",{className:"text-center mb-3",children:[(0,u.jsx)("i",{className:"fas fa-paw me-2"}),"Available Cats"]}),(0,u.jsx)("p",{className:"text-center text-muted",children:"All our cats are healthy, socialized, and ready for loving homes."})]})}),f&&(0,u.jsx)(c.A,{variant:"danger",className:"mb-4",children:f}),a?(0,u.jsx)("div",{className:"loading-spinner",children:(0,u.jsx)(o.A,{animation:"border",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsxs)("span",{className:"text-muted",children:[e.length," cat",1!==e.length?"s":""," available for adoption"]})}),(0,u.jsx)(l.A,{className:"g-4",children:e.map(e=>(0,u.jsx)(i.A,{sm:6,md:4,lg:3,children:(0,u.jsx)(m.A,{pet:e,onVote:b})},e._id))}),0===e.length&&(0,u.jsxs)("div",{className:"text-center py-5",children:[(0,u.jsx)("i",{className:"fas fa-cat fa-3x text-muted mb-3"}),(0,u.jsx)("h4",{children:"No cats available"}),(0,u.jsx)("p",{className:"text-muted",children:"Check back soon for new arrivals!"}),(0,u.jsx)(d.N_,{to:"/browse",className:"btn btn-primary",children:"Browse All Pets"})]})]})]})]})}},6925:(e,s,a)=>{a.d(s,{A:()=>L});var t=a(5043),n=a(8628),r=a(4063),l=a(4282),i=a(2555),c=a(45),o=a(8139),d=a.n(o),m=a(1703),x=a(8062),u=a(8072),h=a(579);const f={[x.ns]:"showing",[x.ze]:"showing show"},j=t.forwardRef((e,s)=>(0,h.jsx)(u.A,(0,i.A)((0,i.A)({},e),{},{ref:s,transitionClasses:f})));j.displayName="ToastFade";const v=j;var b=a(1456),N=a(7852),A=a(5632);const g=t.createContext({onClose(){}}),p=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],w=t.forwardRef((e,s)=>{let{bsPrefix:a,closeLabel:n="Close",closeVariant:r,closeButton:l=!0,className:o,children:m}=e,x=(0,c.A)(e,p);a=(0,N.oU)(a,"toast-header");const u=(0,t.useContext)(g),f=(0,b.A)(e=>{null==u||null==u.onClose||u.onClose(e)});return(0,h.jsxs)("div",(0,i.A)((0,i.A)({ref:s},x),{},{className:d()(a,o),children:[m,l&&(0,h.jsx)(A.A,{"aria-label":n,variant:r,onClick:f,"data-dismiss":"toast"})]}))});w.displayName="ToastHeader";const y=w,C=["className","bsPrefix","as"],E=t.forwardRef((e,s)=>{let{className:a,bsPrefix:t,as:n="div"}=e,r=(0,c.A)(e,C);return t=(0,N.oU)(t,"toast-body"),(0,h.jsx)(n,(0,i.A)({ref:s,className:d()(a,t)},r))});E.displayName="ToastBody";const P=E,k=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","onEntered","onExit","onExiting","onEnter","onEntering","onExited","bg"],R=t.forwardRef((e,s)=>{let{bsPrefix:a,className:n,transition:r=v,show:l=!0,animation:o=!0,delay:x=5e3,autohide:u=!1,onClose:f,onEntered:j,onExit:b,onExiting:A,onEnter:p,onEntering:w,onExited:y,bg:C}=e,E=(0,c.A)(e,k);a=(0,N.oU)(a,"toast");const P=(0,t.useRef)(x),R=(0,t.useRef)(f);(0,t.useEffect)(()=>{P.current=x,R.current=f},[x,f]);const T=(0,m.A)(),z=!(!u||!l),F=(0,t.useCallback)(()=>{z&&(null==R.current||R.current())},[z]);(0,t.useEffect)(()=>{T.set(F,P.current)},[T,F]);const B=(0,t.useMemo)(()=>({onClose:f}),[f]),S=!(!r||!o),_=(0,h.jsx)("div",(0,i.A)((0,i.A)({},E),{},{ref:s,className:d()(a,n,C&&"bg-".concat(C),!S&&(l?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,h.jsx)(g.Provider,{value:B,children:S&&r?(0,h.jsx)(r,{in:l,onEnter:p,onEntering:w,onEntered:j,onExit:b,onExiting:A,onExited:y,unmountOnExit:!0,children:_}):_})});R.displayName="Toast";const T=Object.assign(R,{Body:P,Header:y});var z=a(5475),F=a(5016),B=a(2224);const S=()=>{const[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)(null),r=(0,t.useCallback)(async(e,a)=>{try{s(!0),n(null);return await e()}catch(t){const e=function(e){var s,a;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An error occurred";const n=(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||e.message||t;return console.error("API Error:",e),n}(t,a);throw n(e),t}finally{s(!1)}},[]);return{execute:r,loading:e,error:a,clearError:()=>n(null)}};var _=a(6305);const L=e=>{var s,a;let{pet:i,onVote:c,showAddToCart:o=!0}=e;const{user:d}=(0,F.A)(),{addToCart:m}=(0,B._)(),{execute:x,loading:u}=S(),[f,j]=(0,t.useState)(!1),v=async e=>{if(d&&!u)try{await x(()=>_.A.post("/pets/".concat(i._id,"/vote"),{voteType:e}),"Failed to vote"),null===c||void 0===c||c(i._id,e)}catch(s){}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(n.A,{className:"h-100 pet-card",children:[(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)(n.A.Img,{variant:"top",src:i.image,alt:i.name,className:"card-img-top",loading:"lazy"}),(0,h.jsx)(r.A,{bg:i.available?"success":"secondary",className:"position-absolute top-0 end-0 m-2",children:i.available?"Available":"Adopted"})]}),(0,h.jsxs)(n.A.Body,{className:"d-flex flex-column",children:[(0,h.jsx)(n.A.Title,{className:"text-primary",children:i.name}),(0,h.jsxs)(n.A.Text,{className:"small flex-grow-1",children:[(0,h.jsx)("strong",{children:"Breed:"})," ",i.breed,(0,h.jsx)("br",{}),(0,h.jsx)("strong",{children:"Age:"})," ",i.age,(0,h.jsx)("br",{}),i.size&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Size:"})," ",i.size,(0,h.jsx)("br",{})]}),i.gender&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Gender:"})," ",i.gender,(0,h.jsx)("br",{})]}),(0,h.jsx)("div",{className:"mt-2",children:i.description})]}),(0,h.jsxs)("div",{className:"mt-auto",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,h.jsx)("span",{className:"price fw-bold",children:(b=i.price,"number"===typeof b?"$".concat(b.toLocaleString()):b)}),i.averageRating>0&&(0,h.jsxs)("div",{className:"rating-stars",children:[(0,h.jsx)("i",{className:"fas fa-star text-warning"}),(0,h.jsx)("span",{className:"ms-1",children:i.averageRating})]})]}),(0,h.jsxs)("div",{className:"d-grid gap-2",children:[(0,h.jsx)(z.N_,{to:"/pet/".concat(i._id),className:"btn btn-primary btn-sm",children:"View Details"}),o&&i.available&&(0,h.jsxs)(l.A,{variant:"success",size:"sm",onClick:()=>{m(i),j(!0),setTimeout(()=>j(!1),3e3)},children:[(0,h.jsx)("i",{className:"fas fa-cart-plus me-1"}),"Add to Cart"]}),d&&(0,h.jsxs)("div",{className:"vote-buttons d-flex gap-1",children:[(0,h.jsxs)(l.A,{variant:"outline-success",size:"sm",onClick:()=>v("up"),disabled:u||!i.available,className:"flex-fill",children:[(0,h.jsx)("i",{className:"fas fa-thumbs-up"}),(0,h.jsx)("span",{className:"ms-1",children:(null===(s=i.votes)||void 0===s?void 0:s.up)||0})]}),(0,h.jsxs)(l.A,{variant:"outline-danger",size:"sm",onClick:()=>v("down"),disabled:u||!i.available,className:"flex-fill",children:[(0,h.jsx)("i",{className:"fas fa-thumbs-down"}),(0,h.jsx)("span",{className:"ms-1",children:(null===(a=i.votes)||void 0===a?void 0:a.down)||0})]})]})]})]})]})]}),(0,h.jsx)(T,{show:f,onClose:()=>j(!1),style:{position:"fixed",top:"100px",right:"20px",zIndex:9999},bg:"success",children:(0,h.jsxs)(T.Body,{className:"text-white",children:[(0,h.jsx)("i",{className:"fas fa-check-circle me-2"}),i.name," added to cart!"]})})]});var b}}}]);
//# sourceMappingURL=394.737ebfaa.chunk.js.map