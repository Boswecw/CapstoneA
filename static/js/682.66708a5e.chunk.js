"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[682],{1703:(e,s,a)=>{a.d(s,{A:()=>l});var t=a(5043);function n(e){const s=function(e){const s=(0,t.useRef)(e);return s.current=e,s}(e);(0,t.useEffect)(()=>()=>s.current(),[])}const r=2**31-1;function i(e,s,a){const t=a-Date.now();e.current=t<=r?setTimeout(s,t):setTimeout(()=>i(e,s,a),r)}function l(){const e=function(){const e=(0,t.useRef)(!0),s=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),s.current}(),s=(0,t.useRef)();return n(()=>clearTimeout(s.current)),(0,t.useMemo)(()=>{const a=()=>clearTimeout(s.current);return{set:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(a(),n<=r?s.current=setTimeout(t,n):i(s,t,Date.now()+n))},clear:a,handleRef:s}},[])}},1719:(e,s,a)=>{a.d(s,{A:()=>C});var t=a(2555),n=a(45),r=a(8139),i=a.n(r),l=a(5043),c=a(1969),o=a(1456),d=a(7852),m=a(4488),u=a(579);const x=["className","bsPrefix","as"],h=(0,m.A)("h4");h.displayName="DivStyledAsH4";const f=l.forwardRef((e,s)=>{let{className:a,bsPrefix:r,as:l=h}=e,c=(0,n.A)(e,x);return r=(0,d.oU)(r,"alert-heading"),(0,u.jsx)(l,(0,t.A)({ref:s,className:i()(a,r)},c))});f.displayName="AlertHeading";const j=f;var v=a(7071);const N=["className","bsPrefix","as"],b=l.forwardRef((e,s)=>{let{className:a,bsPrefix:r,as:l=v.A}=e,c=(0,n.A)(e,N);return r=(0,d.oU)(r,"alert-link"),(0,u.jsx)(l,(0,t.A)({ref:s,className:i()(a,r)},c))});b.displayName="AlertLink";const A=b;var p=a(8072),g=a(5632);const w=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],y=l.forwardRef((e,s)=>{const a=(0,c.Zw)(e,{show:"onClose"}),{bsPrefix:r,show:l=!0,closeLabel:m="Close alert",closeVariant:x,className:h,children:f,variant:j="primary",onClose:v,dismissible:N,transition:b=p.A}=a,A=(0,n.A)(a,w),y=(0,d.oU)(r,"alert"),C=(0,o.A)(e=>{v&&v(!1,e)}),E=!0===b?p.A:b,P=(0,u.jsxs)("div",(0,t.A)((0,t.A)({role:"alert"},E?void 0:A),{},{ref:s,className:i()(h,y,j&&"".concat(y,"-").concat(j),N&&"".concat(y,"-dismissible")),children:[N&&(0,u.jsx)(g.A,{onClick:C,"aria-label":m,variant:x}),f]}));return E?(0,u.jsx)(E,(0,t.A)((0,t.A)({unmountOnExit:!0},A),{},{ref:void 0,in:l,children:P})):l?P:null});y.displayName="Alert";const C=Object.assign(y,{Link:A,Heading:j})},6925:(e,s,a)=>{a.d(s,{A:()=>q});var t=a(5043),n=a(8628),r=a(4063),i=a(4282),l=a(2555),c=a(45),o=a(8139),d=a.n(o),m=a(1703),u=a(8062),x=a(8072),h=a(579);const f={[u.ns]:"showing",[u.ze]:"showing show"},j=t.forwardRef((e,s)=>(0,h.jsx)(x.A,(0,l.A)((0,l.A)({},e),{},{ref:s,transitionClasses:f})));j.displayName="ToastFade";const v=j;var N=a(1456),b=a(7852),A=a(5632);const p=t.createContext({onClose(){}}),g=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],w=t.forwardRef((e,s)=>{let{bsPrefix:a,closeLabel:n="Close",closeVariant:r,closeButton:i=!0,className:o,children:m}=e,u=(0,c.A)(e,g);a=(0,b.oU)(a,"toast-header");const x=(0,t.useContext)(p),f=(0,N.A)(e=>{null==x||null==x.onClose||x.onClose(e)});return(0,h.jsxs)("div",(0,l.A)((0,l.A)({ref:s},u),{},{className:d()(a,o),children:[m,i&&(0,h.jsx)(A.A,{"aria-label":n,variant:r,onClick:f,"data-dismiss":"toast"})]}))});w.displayName="ToastHeader";const y=w,C=["className","bsPrefix","as"],E=t.forwardRef((e,s)=>{let{className:a,bsPrefix:t,as:n="div"}=e,r=(0,c.A)(e,C);return t=(0,b.oU)(t,"toast-body"),(0,h.jsx)(n,(0,l.A)({ref:s,className:d()(a,t)},r))});E.displayName="ToastBody";const P=E,k=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","onEntered","onExit","onExiting","onEnter","onEntering","onExited","bg"],R=t.forwardRef((e,s)=>{let{bsPrefix:a,className:n,transition:r=v,show:i=!0,animation:o=!0,delay:u=5e3,autohide:x=!1,onClose:f,onEntered:j,onExit:N,onExiting:A,onEnter:g,onEntering:w,onExited:y,bg:C}=e,E=(0,c.A)(e,k);a=(0,b.oU)(a,"toast");const P=(0,t.useRef)(u),R=(0,t.useRef)(f);(0,t.useEffect)(()=>{P.current=u,R.current=f},[u,f]);const T=(0,m.A)(),B=!(!x||!i),S=(0,t.useCallback)(()=>{B&&(null==R.current||R.current())},[B]);(0,t.useEffect)(()=>{T.set(S,P.current)},[T,S]);const z=(0,t.useMemo)(()=>({onClose:f}),[f]),_=!(!r||!o),L=(0,h.jsx)("div",(0,l.A)((0,l.A)({},E),{},{ref:s,className:d()(a,n,C&&"bg-".concat(C),!_&&(i?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,h.jsx)(p.Provider,{value:z,children:_&&r?(0,h.jsx)(r,{in:i,onEnter:g,onEntering:w,onEntered:j,onExit:N,onExiting:A,onExited:y,unmountOnExit:!0,children:L}):L})});R.displayName="Toast";const T=Object.assign(R,{Body:P,Header:y});var B=a(5475),S=a(5016),z=a(2224);const _=()=>{const[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)(null),r=(0,t.useCallback)(async(e,a)=>{try{s(!0),n(null);return await e()}catch(t){const e=function(e){var s,a;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An error occurred";const n=(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||e.message||t;return console.error("API Error:",e),n}(t,a);throw n(e),t}finally{s(!1)}},[]);return{execute:r,loading:e,error:a,clearError:()=>n(null)}};var L=a(6305);const q=e=>{var s,a;let{pet:l,onVote:c,showAddToCart:o=!0}=e;const{user:d}=(0,S.A)(),{addToCart:m}=(0,z._)(),{execute:u,loading:x}=_(),[f,j]=(0,t.useState)(!1),v=async e=>{if(d&&!x)try{await u(()=>L.A.post("/pets/".concat(l._id,"/vote"),{voteType:e}),"Failed to vote"),null===c||void 0===c||c(l._id,e)}catch(s){}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(n.A,{className:"h-100 pet-card",children:[(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)(n.A.Img,{variant:"top",src:l.image,alt:l.name,className:"card-img-top",loading:"lazy"}),(0,h.jsx)(r.A,{bg:l.available?"success":"secondary",className:"position-absolute top-0 end-0 m-2",children:l.available?"Available":"Adopted"})]}),(0,h.jsxs)(n.A.Body,{className:"d-flex flex-column",children:[(0,h.jsx)(n.A.Title,{className:"text-primary",children:l.name}),(0,h.jsxs)(n.A.Text,{className:"small flex-grow-1",children:[(0,h.jsx)("strong",{children:"Breed:"})," ",l.breed,(0,h.jsx)("br",{}),(0,h.jsx)("strong",{children:"Age:"})," ",l.age,(0,h.jsx)("br",{}),l.size&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Size:"})," ",l.size,(0,h.jsx)("br",{})]}),l.gender&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Gender:"})," ",l.gender,(0,h.jsx)("br",{})]}),(0,h.jsx)("div",{className:"mt-2",children:l.description})]}),(0,h.jsxs)("div",{className:"mt-auto",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,h.jsx)("span",{className:"price fw-bold",children:(N=l.price,"number"===typeof N?"$".concat(N.toLocaleString()):N)}),l.averageRating>0&&(0,h.jsxs)("div",{className:"rating-stars",children:[(0,h.jsx)("i",{className:"fas fa-star text-warning"}),(0,h.jsx)("span",{className:"ms-1",children:l.averageRating})]})]}),(0,h.jsxs)("div",{className:"d-grid gap-2",children:[(0,h.jsx)(B.N_,{to:"/pet/".concat(l._id),className:"btn btn-primary btn-sm",children:"View Details"}),o&&l.available&&(0,h.jsxs)(i.A,{variant:"success",size:"sm",onClick:()=>{m(l),j(!0),setTimeout(()=>j(!1),3e3)},children:[(0,h.jsx)("i",{className:"fas fa-cart-plus me-1"}),"Add to Cart"]}),d&&(0,h.jsxs)("div",{className:"vote-buttons d-flex gap-1",children:[(0,h.jsxs)(i.A,{variant:"outline-success",size:"sm",onClick:()=>v("up"),disabled:x||!l.available,className:"flex-fill",children:[(0,h.jsx)("i",{className:"fas fa-thumbs-up"}),(0,h.jsx)("span",{className:"ms-1",children:(null===(s=l.votes)||void 0===s?void 0:s.up)||0})]}),(0,h.jsxs)(i.A,{variant:"outline-danger",size:"sm",onClick:()=>v("down"),disabled:x||!l.available,className:"flex-fill",children:[(0,h.jsx)("i",{className:"fas fa-thumbs-down"}),(0,h.jsx)("span",{className:"ms-1",children:(null===(a=l.votes)||void 0===a?void 0:a.down)||0})]})]})]})]})]})]}),(0,h.jsx)(T,{show:f,onClose:()=>j(!1),style:{position:"fixed",top:"100px",right:"20px",zIndex:9999},bg:"success",children:(0,h.jsxs)(T.Body,{className:"text-white",children:[(0,h.jsx)("i",{className:"fas fa-check-circle me-2"}),l.name," added to cart!"]})})]});var N}},8682:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(2555),n=a(5043),r=a(3519),i=a(1072),l=a(8602),c=a(1719),o=a(7417),d=a(5475),m=a(6925),u=a(6305),x=a(579);const h=()=>{const[e,s]=(0,n.useState)([]),[a,h]=(0,n.useState)(!0),[f,j]=(0,n.useState)("");(0,n.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await u.A.get("/pets/type/fish");s(e.data.data)}catch(f){j("Error fetching aquatic pets. Please try again."),console.error("Error fetching fish:",f)}finally{h(!1)}},N=(e,a)=>{s(s=>s.map(s=>{if(s._id===e){const e=(0,t.A)({},s);var n,r;if("up"===a)e.votes=(0,t.A)((0,t.A)({},e.votes),{},{up:((null===(n=e.votes)||void 0===n?void 0:n.up)||0)+1});else e.votes=(0,t.A)((0,t.A)({},e.votes),{},{down:((null===(r=e.votes)||void 0===r?void 0:r.down)||0)+1});return e}return s}))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("section",{className:"furbabies-banner",children:(0,x.jsx)(r.A,{children:(0,x.jsx)(i.A,{className:"justify-content-center align-items-center",children:(0,x.jsxs)(l.A,{xs:12,md:10,children:[(0,x.jsxs)("h1",{className:"hero-title",children:[(0,x.jsx)("i",{className:"fas fa-fish me-2"}),"Aquatic Pets & Supplies"]}),(0,x.jsxs)("p",{className:"hero-subtitle",children:[(0,x.jsx)("i",{className:"fas fa-heart me-2"}),"Dive Into Our Aquatic Collection"]}),(0,x.jsxs)(d.N_,{to:"/browse",className:"btn btn-lg btn-light px-4 py-2",children:[(0,x.jsx)("i",{className:"fas fa-search me-2"}),"Browse All Pets"]})]})})})}),(0,x.jsxs)(r.A,{className:"py-5",children:[(0,x.jsx)(i.A,{className:"mb-4",children:(0,x.jsxs)(l.A,{children:[(0,x.jsxs)("h2",{className:"text-center mb-3",children:[(0,x.jsx)("i",{className:"fas fa-paw me-2"}),"Available Aquatic Pets"]}),(0,x.jsx)("p",{className:"text-center text-muted",children:"Beautiful fish and aquatic companions, plus everything you need to care for them."})]})}),f&&(0,x.jsx)(c.A,{variant:"danger",className:"mb-4",children:f}),a?(0,x.jsx)("div",{className:"loading-spinner",children:(0,x.jsx)(o.A,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)("span",{className:"text-muted",children:[e.length," aquatic pet",1!==e.length?"s":""," available"]})}),(0,x.jsx)(i.A,{className:"g-4",children:e.map(e=>(0,x.jsx)(l.A,{sm:6,md:4,lg:3,children:(0,x.jsx)(m.A,{pet:e,onVote:N})},e._id))}),0===e.length&&(0,x.jsxs)("div",{className:"text-center py-5",children:[(0,x.jsx)("i",{className:"fas fa-fish fa-3x text-muted mb-3"}),(0,x.jsx)("h4",{children:"No aquatic pets available"}),(0,x.jsx)("p",{className:"text-muted",children:"Check back soon for new arrivals!"}),(0,x.jsx)(d.N_,{to:"/browse",className:"btn btn-primary",children:"Browse All Pets"})]})]})]})]})}}}]);
//# sourceMappingURL=682.66708a5e.chunk.js.map