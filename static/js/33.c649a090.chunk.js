"use strict";(self.webpackChunkfurbabies_client=self.webpackChunkfurbabies_client||[]).push([[33],{3033:(e,s,l)=>{l.r(s),l.d(s,{default:()=>j});var a=l(2555),n=l(5043),r=l(3519),t=l(1072),i=l(8602),c=l(9853),o=l(4282),d=l(1719),h=l(7417),x=l(3798),u=l(6305),p=l(579);const j=()=>{const[e,s]=(0,n.useState)([]),[l,j]=(0,n.useState)(!0),[m,v]=(0,n.useState)(""),[g,A]=(0,n.useState)({type:"all",size:"",minPrice:"",maxPrice:"",search:"",sort:"newest"});(0,n.useEffect)(()=>{(async()=>{j(!0),v("");try{const e=new URLSearchParams;Object.entries(g).forEach(s=>{let[l,a]=s;a&&"all"!==a&&e.append(l,a)});const l=await u.A.get("/pets?".concat(e.toString()));s(l.data.data)}catch(m){v("Error fetching pets. Please try again."),console.error("Error fetching pets:",m)}finally{j(!1)}})()},[g]);const y=(e,s)=>{A(l=>(0,a.A)((0,a.A)({},l),{},{[e]:s}))},b=(e,l)=>{s(s=>s.map(s=>{if(s._id===e){const e=(0,a.A)({},s);var n,r;if("up"===l)e.votes=(0,a.A)((0,a.A)({},e.votes),{},{up:((null===(n=e.votes)||void 0===n?void 0:n.up)||0)+1});else e.votes=(0,a.A)((0,a.A)({},e.votes),{},{down:((null===(r=e.votes)||void 0===r?void 0:r.down)||0)+1});return e}return s}))};return(0,p.jsxs)(r.A,{className:"py-5",style:{marginTop:"80px"},children:[(0,p.jsx)("h2",{className:"text-center mb-4",children:"Browse All Pets"}),(0,p.jsx)(t.A,{className:"mb-4",children:(0,p.jsx)(i.A,{children:(0,p.jsx)(c.A,{className:"p-3 bg-light rounded",children:(0,p.jsxs)(t.A,{className:"g-3",children:[(0,p.jsxs)(i.A,{md:2,children:[(0,p.jsx)(c.A.Label,{children:"Type"}),(0,p.jsxs)(c.A.Select,{value:g.type,onChange:e=>y("type",e.target.value),children:[(0,p.jsx)("option",{value:"all",children:"All Types"}),(0,p.jsx)("option",{value:"dog",children:"Dogs"}),(0,p.jsx)("option",{value:"cat",children:"Cats"}),(0,p.jsx)("option",{value:"fish",children:"Fish"}),(0,p.jsx)("option",{value:"bird",children:"Birds"}),(0,p.jsx)("option",{value:"small-pet",children:"Small Pets"}),(0,p.jsx)("option",{value:"supply",children:"Supplies"})]})]}),(0,p.jsxs)(i.A,{md:2,children:[(0,p.jsx)(c.A.Label,{children:"Size"}),(0,p.jsxs)(c.A.Select,{value:g.size,onChange:e=>y("size",e.target.value),children:[(0,p.jsx)("option",{value:"",children:"Any Size"}),(0,p.jsx)("option",{value:"small",children:"Small"}),(0,p.jsx)("option",{value:"medium",children:"Medium"}),(0,p.jsx)("option",{value:"large",children:"Large"}),(0,p.jsx)("option",{value:"extra-large",children:"Extra Large"})]})]}),(0,p.jsxs)(i.A,{md:1,children:[(0,p.jsx)(c.A.Label,{children:"Min Price"}),(0,p.jsx)(c.A.Control,{type:"number",placeholder:"$0",value:g.minPrice,onChange:e=>y("minPrice",e.target.value)})]}),(0,p.jsxs)(i.A,{md:1,children:[(0,p.jsx)(c.A.Label,{children:"Max Price"}),(0,p.jsx)(c.A.Control,{type:"number",placeholder:"$999",value:g.maxPrice,onChange:e=>y("maxPrice",e.target.value)})]}),(0,p.jsxs)(i.A,{md:2,children:[(0,p.jsx)(c.A.Label,{children:"Sort By"}),(0,p.jsxs)(c.A.Select,{value:g.sort,onChange:e=>y("sort",e.target.value),children:[(0,p.jsx)("option",{value:"newest",children:"Newest"}),(0,p.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,p.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,p.jsx)("option",{value:"popular",children:"Most Popular"})]})]}),(0,p.jsxs)(i.A,{md:3,children:[(0,p.jsx)(c.A.Label,{children:"Search"}),(0,p.jsx)(c.A.Control,{type:"text",placeholder:"Search pets...",value:g.search,onChange:e=>y("search",e.target.value)})]}),(0,p.jsx)(i.A,{md:1,className:"d-flex align-items-end",children:(0,p.jsx)(o.A,{variant:"outline-secondary",onClick:()=>{A({type:"all",size:"",minPrice:"",maxPrice:"",search:"",sort:"newest"})},children:"Clear"})})]})})})}),m&&(0,p.jsx)(d.A,{variant:"danger",className:"mb-4",children:m}),l?(0,p.jsx)("div",{className:"loading-spinner",children:(0,p.jsx)(h.A,{animation:"border",role:"status",children:(0,p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("span",{className:"text-muted",children:[e.length," pet",1!==e.length?"s":""," found"]})}),(0,p.jsx)(t.A,{className:"g-4",children:e.map(e=>(0,p.jsx)(i.A,{sm:6,md:4,lg:3,children:(0,p.jsx)(x.Ay,{pet:e,onVote:b})},e._id))}),0===e.length&&(0,p.jsxs)("div",{className:"text-center py-5",children:[(0,p.jsx)("i",{className:"fas fa-search fa-3x text-muted mb-3"}),(0,p.jsx)("h4",{children:"No pets found"}),(0,p.jsx)("p",{className:"text-muted",children:"Try adjusting your filters or search terms."})]})]})]})}}}]);
//# sourceMappingURL=33.c649a090.chunk.js.map