"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[140],{1703:(e,s,a)=>{a.d(s,{A:()=>i});var n=a(5043);function t(e){const s=function(e){const s=(0,n.useRef)(e);return s.current=e,s}(e);(0,n.useEffect)(()=>()=>s.current(),[])}const r=2**31-1;function l(e,s,a){const n=a-Date.now();e.current=n<=r?setTimeout(s,n):setTimeout(()=>l(e,s,a),r)}function i(){const e=function(){const e=(0,n.useRef)(!0),s=(0,n.useRef)(()=>e.current);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),s.current}(),s=(0,n.useRef)();return t(()=>clearTimeout(s.current)),(0,n.useMemo)(()=>{const a=()=>clearTimeout(s.current);return{set:function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(a(),t<=r?s.current=setTimeout(n,t):l(s,n,Date.now()+t))},clear:a,handleRef:s}},[])}},1719:(e,s,a)=>{a.d(s,{A:()=>C});var n=a(2555),t=a(45),r=a(8139),l=a.n(r),i=a(5043),o=a(1969),c=a(1456),d=a(7852),m=a(4488),x=a(579);const u=["className","bsPrefix","as"],h=(0,m.A)("h4");h.displayName="DivStyledAsH4";const f=i.forwardRef((e,s)=>{let{className:a,bsPrefix:r,as:i=h}=e,o=(0,t.A)(e,u);return r=(0,d.oU)(r,"alert-heading"),(0,x.jsx)(i,(0,n.A)({ref:s,className:l()(a,r)},o))});f.displayName="AlertHeading";const j=f;var v=a(7071);const g=["className","bsPrefix","as"],b=i.forwardRef((e,s)=>{let{className:a,bsPrefix:r,as:i=v.A}=e,o=(0,t.A)(e,g);return r=(0,d.oU)(r,"alert-link"),(0,x.jsx)(i,(0,n.A)({ref:s,className:l()(a,r)},o))});b.displayName="AlertLink";const N=b;var A=a(8072),p=a(5632);const w=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],y=i.forwardRef((e,s)=>{const a=(0,o.Zw)(e,{show:"onClose"}),{bsPrefix:r,show:i=!0,closeLabel:m="Close alert",closeVariant:u,className:h,children:f,variant:j="primary",onClose:v,dismissible:g,transition:b=A.A}=a,N=(0,t.A)(a,w),y=(0,d.oU)(r,"alert"),C=(0,c.A)(e=>{v&&v(!1,e)}),E=!0===b?A.A:b,P=(0,x.jsxs)("div",(0,n.A)((0,n.A)({role:"alert"},E?void 0:N),{},{ref:s,className:l()(h,y,j&&"".concat(y,"-").concat(j),g&&"".concat(y,"-dismissible")),children:[g&&(0,x.jsx)(p.A,{onClick:C,"aria-label":m,variant:u}),f]}));return E?(0,x.jsx)(E,(0,n.A)((0,n.A)({unmountOnExit:!0},N),{},{ref:void 0,in:i,children:P})):i?P:null});y.displayName="Alert";const C=Object.assign(y,{Link:N,Heading:j})},2140:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var n=a(2555),t=a(5043),r=a(3519),l=a(1072),i=a(8602),o=a(1719),c=a(7417),d=a(5475),m=a(6925),x=a(6305),u=a(579);const h=()=>{const[e,s]=(0,t.useState)([]),[a,h]=(0,t.useState)(!0),[f,j]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=await x.A.get("/pets/type/dog");s(e.data.data)}catch(f){j("Error fetching dogs. Please try again."),console.error("Error fetching dogs:",f)}finally{h(!1)}})()},[]);const v=(e,a)=>{s(s=>s.map(s=>{if(s._id===e){const e=(0,n.A)({},s);var t,r;if("up"===a)e.votes=(0,n.A)((0,n.A)({},e.votes),{},{up:((null===(t=e.votes)||void 0===t?void 0:t.up)||0)+1});else e.votes=(0,n.A)((0,n.A)({},e.votes),{},{down:((null===(r=e.votes)||void 0===r?void 0:r.down)||0)+1});return e}return s}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"furbabies-banner",children:(0,u.jsx)(r.A,{children:(0,u.jsx)(l.A,{className:"justify-content-center align-items-center",children:(0,u.jsxs)(i.A,{xs:12,md:10,children:[(0,u.jsxs)("h1",{className:"hero-title",children:[(0,u.jsx)("i",{className:"fas fa-dog me-2"}),"Dogs Available for Adoption"]}),(0,u.jsxs)("p",{className:"hero-subtitle",children:[(0,u.jsx)("i",{className:"fas fa-heart me-2"}),"Find Your Perfect Canine Companion"]}),(0,u.jsxs)(d.N_,{to:"/browse",className:"btn btn-lg btn-light px-4 py-2",children:[(0,u.jsx)("i",{className:"fas fa-search me-2"}),"Browse All Pets"]})]})})})}),(0,u.jsxs)(r.A,{className:"py-5",children:[(0,u.jsx)(l.A,{className:"mb-4",children:(0,u.jsxs)(i.A,{children:[(0,u.jsxs)("h2",{className:"text-center mb-3",children:[(0,u.jsx)("i",{className:"fas fa-paw me-2"}),"Available Dogs"]}),(0,u.jsx)("p",{className:"text-center text-muted",children:"All our dogs come from ethical sources and are ready for their forever homes."})]})}),f&&(0,u.jsx)(o.A,{variant:"danger",className:"mb-4",children:f}),a?(0,u.jsx)("div",{className:"loading-spinner",children:(0,u.jsx)(c.A,{animation:"border",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsxs)("span",{className:"text-muted",children:[e.length," dog",1!==e.length?"s":""," available for adoption"]})}),(0,u.jsx)(l.A,{className:"g-4",children:e.map(e=>(0,u.jsx)(i.A,{sm:6,md:4,lg:3,children:(0,u.jsx)(m.A,{pet:e,onVote:v})},e._id))}),0===e.length&&(0,u.jsxs)("div",{className:"text-center py-5",children:[(0,u.jsx)("i",{className:"fas fa-dog fa-3x text-muted mb-3"}),(0,u.jsx)("h4",{children:"No dogs available"}),(0,u.jsx)("p",{className:"text-muted",children:"Check back soon for new arrivals!"}),(0,u.jsx)(d.N_,{to:"/browse",className:"btn btn-primary",children:"Browse All Pets"})]})]})]})]})}},6925:(e,s,a)=>{a.d(s,{A:()=>L});var n=a(5043),t=a(8628),r=a(4063),l=a(4282),i=a(2555),o=a(45),c=a(8139),d=a.n(c),m=a(1703),x=a(8062),u=a(8072),h=a(579);const f={[x.ns]:"showing",[x.ze]:"showing show"},j=n.forwardRef((e,s)=>(0,h.jsx)(u.A,(0,i.A)((0,i.A)({},e),{},{ref:s,transitionClasses:f})));j.displayName="ToastFade";const v=j;var g=a(1456),b=a(7852),N=a(5632);const A=n.createContext({onClose(){}}),p=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],w=n.forwardRef((e,s)=>{let{bsPrefix:a,closeLabel:t="Close",closeVariant:r,closeButton:l=!0,className:c,children:m}=e,x=(0,o.A)(e,p);a=(0,b.oU)(a,"toast-header");const u=(0,n.useContext)(A),f=(0,g.A)(e=>{null==u||null==u.onClose||u.onClose(e)});return(0,h.jsxs)("div",(0,i.A)((0,i.A)({ref:s},x),{},{className:d()(a,c),children:[m,l&&(0,h.jsx)(N.A,{"aria-label":t,variant:r,onClick:f,"data-dismiss":"toast"})]}))});w.displayName="ToastHeader";const y=w,C=["className","bsPrefix","as"],E=n.forwardRef((e,s)=>{let{className:a,bsPrefix:n,as:t="div"}=e,r=(0,o.A)(e,C);return n=(0,b.oU)(n,"toast-body"),(0,h.jsx)(t,(0,i.A)({ref:s,className:d()(a,n)},r))});E.displayName="ToastBody";const P=E,k=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","onEntered","onExit","onExiting","onEnter","onEntering","onExited","bg"],R=n.forwardRef((e,s)=>{let{bsPrefix:a,className:t,transition:r=v,show:l=!0,animation:c=!0,delay:x=5e3,autohide:u=!1,onClose:f,onEntered:j,onExit:g,onExiting:N,onEnter:p,onEntering:w,onExited:y,bg:C}=e,E=(0,o.A)(e,k);a=(0,b.oU)(a,"toast");const P=(0,n.useRef)(x),R=(0,n.useRef)(f);(0,n.useEffect)(()=>{P.current=x,R.current=f},[x,f]);const T=(0,m.A)(),z=!(!u||!l),B=(0,n.useCallback)(()=>{z&&(null==R.current||R.current())},[z]);(0,n.useEffect)(()=>{T.set(B,P.current)},[T,B]);const S=(0,n.useMemo)(()=>({onClose:f}),[f]),_=!(!r||!c),F=(0,h.jsx)("div",(0,i.A)((0,i.A)({},E),{},{ref:s,className:d()(a,t,C&&"bg-".concat(C),!_&&(l?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,h.jsx)(A.Provider,{value:S,children:_&&r?(0,h.jsx)(r,{in:l,onEnter:p,onEntering:w,onEntered:j,onExit:g,onExiting:N,onExited:y,unmountOnExit:!0,children:F}):F})});R.displayName="Toast";const T=Object.assign(R,{Body:P,Header:y});var z=a(5475),B=a(5016),S=a(2224);const _=()=>{const[e,s]=(0,n.useState)(!1),[a,t]=(0,n.useState)(null),r=(0,n.useCallback)(async(e,a)=>{try{s(!0),t(null);return await e()}catch(n){const e=function(e){var s,a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An error occurred";const t=(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||e.message||n;return console.error("API Error:",e),t}(n,a);throw t(e),n}finally{s(!1)}},[]);return{execute:r,loading:e,error:a,clearError:()=>t(null)}};var F=a(6305);const L=e=>{var s,a;let{pet:i,onVote:o,showAddToCart:c=!0}=e;const{user:d}=(0,B.A)(),{addToCart:m}=(0,S._)(),{execute:x,loading:u}=_(),[f,j]=(0,n.useState)(!1),v=async e=>{if(d&&!u)try{await x(()=>F.A.post("/pets/".concat(i._id,"/vote"),{voteType:e}),"Failed to vote"),null===o||void 0===o||o(i._id,e)}catch(s){}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(t.A,{className:"h-100 pet-card",children:[(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)(t.A.Img,{variant:"top",src:i.image,alt:i.name,className:"card-img-top",loading:"lazy"}),(0,h.jsx)(r.A,{bg:i.available?"success":"secondary",className:"position-absolute top-0 end-0 m-2",children:i.available?"Available":"Adopted"})]}),(0,h.jsxs)(t.A.Body,{className:"d-flex flex-column",children:[(0,h.jsx)(t.A.Title,{className:"text-primary",children:i.name}),(0,h.jsxs)(t.A.Text,{className:"small flex-grow-1",children:[(0,h.jsx)("strong",{children:"Breed:"})," ",i.breed,(0,h.jsx)("br",{}),(0,h.jsx)("strong",{children:"Age:"})," ",i.age,(0,h.jsx)("br",{}),i.size&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Size:"})," ",i.size,(0,h.jsx)("br",{})]}),i.gender&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Gender:"})," ",i.gender,(0,h.jsx)("br",{})]}),(0,h.jsx)("div",{className:"mt-2",children:i.description})]}),(0,h.jsxs)("div",{className:"mt-auto",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,h.jsx)("span",{className:"price fw-bold",children:(g=i.price,"number"===typeof g?"$".concat(g.toLocaleString()):g)}),i.averageRating>0&&(0,h.jsxs)("div",{className:"rating-stars",children:[(0,h.jsx)("i",{className:"fas fa-star text-warning"}),(0,h.jsx)("span",{className:"ms-1",children:i.averageRating})]})]}),(0,h.jsxs)("div",{className:"d-grid gap-2",children:[(0,h.jsx)(z.N_,{to:"/pet/".concat(i._id),className:"btn btn-primary btn-sm",children:"View Details"}),c&&i.available&&(0,h.jsxs)(l.A,{variant:"success",size:"sm",onClick:()=>{m(i),j(!0),setTimeout(()=>j(!1),3e3)},children:[(0,h.jsx)("i",{className:"fas fa-cart-plus me-1"}),"Add to Cart"]}),d&&(0,h.jsxs)("div",{className:"vote-buttons d-flex gap-1",children:[(0,h.jsxs)(l.A,{variant:"outline-success",size:"sm",onClick:()=>v("up"),disabled:u||!i.available,className:"flex-fill",children:[(0,h.jsx)("i",{className:"fas fa-thumbs-up"}),(0,h.jsx)("span",{className:"ms-1",children:(null===(s=i.votes)||void 0===s?void 0:s.up)||0})]}),(0,h.jsxs)(l.A,{variant:"outline-danger",size:"sm",onClick:()=>v("down"),disabled:u||!i.available,className:"flex-fill",children:[(0,h.jsx)("i",{className:"fas fa-thumbs-down"}),(0,h.jsx)("span",{className:"ms-1",children:(null===(a=i.votes)||void 0===a?void 0:a.down)||0})]})]})]})]})]})]}),(0,h.jsx)(T,{show:f,onClose:()=>j(!1),style:{position:"fixed",top:"100px",right:"20px",zIndex:9999},bg:"success",children:(0,h.jsxs)(T.Body,{className:"text-white",children:[(0,h.jsx)("i",{className:"fas fa-check-circle me-2"}),i.name," added to cart!"]})})]});var g}}}]);
//# sourceMappingURL=140.57581046.chunk.js.map